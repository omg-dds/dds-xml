<?xml version="1.0" encoding="UTF-8"?>

<application_library xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                     xmlns="http://www.omg.org/spec/DDS-XML"
                     xsi:schemaLocation="http://www.omg.org/spec/DDS-XML ./dds-xml_application_definitions.xsd"
                     name="MyApplicationLibrary">

    <application name="AnApplication">
        <domain_participant name="HelloParticipant" domain_id="32" >
            <register_type name="HelloWorld" type_ref="HelloWorld" />
            <topic register_type_ref="HelloWorld" name="HelloMessage" />
            <publisher name="HelloPublisher">
                <data_writer topic_ref="HelloMessage" name="HelloWriter" />
            </publisher>
            <domain_participant_qos>
                <entity_factory>
                    <autoenable_created_entities>true</autoenable_created_entities>
                </entity_factory>
            </domain_participant_qos>
        </domain_participant>

        <domain_participant name="GoodbyeParticipant"
                            base_name="MyParticipantLibrary::GoodbyeParticipant"
                            domain_id="64" />
    </application>

    <application name="AnotherApplication">
        <domain_participant name="ShapesParticipant"
                            domain_ref="ADomainLibrary::ShapeDomain"
                            domain_id="127">
            <publisher name="MyPublisher">
                <data_writer name="MySquareWriter" topic_ref="Square" />
                <data_writer name="MyCircleWriter" topic_ref="Circle" />
                <publisher_qos>
                    <entity_factory>
                        <autoenable_created_entities>false</autoenable_created_entities>
                    </entity_factory>
                </publisher_qos>
            </publisher>
            <subscriber name="MySubscriber">
                <data_reader name="MySquareReader" topic_ref="Square" />
                <data_reader name="MyCircleWriter" topic_ref="Circle" />
                <data_reader name="MyTriangleWriter" topic_ref="Triangle" />
                <subscriber_qos base_name="SomeQosLibrary::SomeQosProfile">
                    <entity_factory>
                        <autoenable_created_entities>false</autoenable_created_entities>
                    </entity_factory>
                </subscriber_qos>
            </subscriber>
        </domain_participant>
    </application>

    <application name="DerivedApplication" base_name="AnotherApplication">
        <domain_participant name="ShapesParticipant2">
            <publisher name="MyPublisher">
                <data_writer name="MyTriangleWriter" topic_ref="Triangle" />
            </publisher>
        </domain_participant>
    </application>
</application_library>
